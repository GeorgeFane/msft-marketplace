(this.webpackJsonpmicrosoft=this.webpackJsonpmicrosoft||[]).push([[0],{285:function(e){e.exports=JSON.parse('[{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"account","type":"address"},{"indexed":true,"internalType":"address","name":"operator","type":"address"},{"indexed":false,"internalType":"bool","name":"approved","type":"bool"}],"name":"ApprovalForAll","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"operator","type":"address"},{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256[]","name":"ids","type":"uint256[]"},{"indexed":false,"internalType":"uint256[]","name":"values","type":"uint256[]"}],"name":"TransferBatch","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"operator","type":"address"},{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256","name":"id","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"TransferSingle","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"string","name":"value","type":"string"},{"indexed":true,"internalType":"uint256","name":"id","type":"uint256"}],"name":"URI","type":"event"},{"inputs":[{"internalType":"string","name":"tokenName","type":"string"}],"name":"createTokenType","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"string","name":"data","type":"string"},{"internalType":"string","name":"name","type":"string"},{"internalType":"uint256","name":"tokenType","type":"uint256"},{"internalType":"string","name":"image","type":"string"}],"name":"mint","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256[]","name":"ids","type":"uint256[]"},{"internalType":"uint256[]","name":"amounts","type":"uint256[]"},{"internalType":"bytes","name":"data","type":"bytes"}],"name":"safeBatchTransferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"id","type":"uint256"},{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"}],"name":"safeTransferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"operator","type":"address"},{"internalType":"bool","name":"approved","type":"bool"}],"name":"setApprovalForAll","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[],"name":"admin","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"},{"internalType":"uint256","name":"id","type":"uint256"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address[]","name":"accounts","type":"address[]"},{"internalType":"uint256[]","name":"ids","type":"uint256[]"}],"name":"balanceOfBatch","outputs":[{"internalType":"uint256[]","name":"","type":"uint256[]"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getTokenTypes","outputs":[{"internalType":"string[]","name":"","type":"string[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"},{"internalType":"address","name":"operator","type":"address"}],"name":"isApprovedForAll","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bytes4","name":"interfaceId","type":"bytes4"}],"name":"supportsInterface","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"tokens","outputs":[{"internalType":"string","name":"name","type":"string"},{"internalType":"string","name":"data","type":"string"},{"internalType":"string","name":"image","type":"string"},{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"uint256","name":"tokenType","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"tokenTypes","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"uri","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"}]')},333:function(e,t){},335:function(e,t){},337:function(e,t){},341:function(e,t){},368:function(e,t){},370:function(e,t){},379:function(e,t){},381:function(e,t){},391:function(e,t){},393:function(e,t){},514:function(e,t){},516:function(e,t){},523:function(e,t){},524:function(e,t){},618:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),r=n(66),s=n.n(r),c=n(27),o=n.n(c),u=n(40),p=n(16),l=n(19),d=n(23),y=n(22),m=n(134),b=n.n(m),h=n(285),j=new m("https://sandbox.truffleteams.com/8f7572d1-e253-420a-93bc-2ed8a6f051e6"),x=new j.eth.Contract(h,"0x68B1E8B23b5D22d693dAC051a02c7FC2B5875329");function f(e){return g.apply(this,arguments)}function g(){return(g=Object(u.a)(c.mark((function e(t){var n;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.methods.tokens(t).call();case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e,t){return O.apply(this,arguments)}function O(){return(O=Object(u.a)(c.mark((function e(t,n){var a;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.methods.balanceOf(t,n).call();case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var T=n(691),k=n(689),C=n(693),w=n(690),S=n(694),A=n(674),I=n(38),E=(n(292),n(681)),J=n(699),Q=n(2);function M(e){var t=e.pages,n=e.page,a=e.setPage,i=t.map((function(e){return Object(Q.jsx)(J.a,{label:e,value:e})}));return Object(Q.jsx)(k.a,{children:Object(Q.jsx)(k.a,{sx:{borderBottom:1,borderColor:"divider"},children:Object(Q.jsx)(E.a,{value:n,onChange:function(e,t){a(t)},"aria-label":"basic tabs example",textColor:"inherit",indicatorColor:"secondary",children:i})})})}function B(e){var t=e.pages,n=e.page,a=e.setPage;return Object(Q.jsxs)(k.a,{sx:{flexGrow:1},children:[Object(Q.jsx)(T.a,{children:Object(Q.jsxs)(C.a,{children:[Object(Q.jsx)(k.a,{m:1,children:Object(Q.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAMAAAAJbSJIAAAALVBMVEXyUCJ/ugAApO//uQD////yTh/zVy2EvRYWp/D/uxbyTBvzXziJvyQkq/D/viRJQpTmAAABDUlEQVR4nO3PyRHCQBAEwRHo5vDfXD1ZC5oYyHKgIqtSLev8aZtixYCEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhIQdhUuq81vCNdZjED63WDX/eoT9I+wfYf8I+0fYv9pjvYbt+4hVt1j7IDzusQgJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQn/WXgB6/1wCkBWrdwAAAAASUVORK5CYII=",alt:"Microsoft logo",height:"22"})}),Object(Q.jsx)(w.a,{variant:"h6",component:"div",sx:{flexGrow:1},children:"NFT Marketplace"}),Object(Q.jsx)(M,{pages:t,page:n,setPage:a}),Object(Q.jsx)(S.a,{color:"inherit",href:"https://github.com/GeorgeFane/msft-marketplace",target:"_blank",children:Object(Q.jsx)(A.a,{fontSize:"large"})})]})}),Object(Q.jsx)(C.a,{})]})}var D=n(6),P=n(692),F=n(687),L=n(20),R=n(684),Y=n(682),G=n(683),U=n(679);function W(e){var t=a.useState(""),n=Object(L.a)(t,2);n[0],n[1];return Object(Q.jsx)(k.a,{sx:{minWidth:120},children:Object(Q.jsxs)(G.a,{fullWidth:!0,children:[Object(Q.jsx)(R.a,{id:"demo-simple-select-label",children:e.label}),Object(Q.jsx)(U.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",label:e.label,onChange:function(t){e.setAccount(t.target.value)},value:e.account,children:e.items.map((function(e){return Object(Q.jsx)(Y.a,{value:e,children:e})}))})]})})}var N=Object(D.a)(P.a)((function(e){var t=e.theme;return Object(I.a)(Object(I.a)({},t.typography.body2),{},{padding:t.spacing(1),textAlign:"center",color:t.palette.text.secondary})})),V=(a.Component,n(138)),z=n(695),X=new(n(291).a)({supportedChainIds:[1,3,4,5,42]});function q(){var e=Object(V.b)(),t=e.active,n=e.account,a=(e.library,e.connector,e.activate),i=e.deactivate;function r(){return(r=Object(u.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a(X);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}function s(){return(s=Object(u.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{i()}catch(t){console.log(t)}case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var c=t?"Connected with "+n:"Not Connected";return Object(Q.jsxs)("div",{children:[Object(Q.jsx)(z.a,{onClick:function(){return r.apply(this,arguments)},variant:"contained",children:"Connect to MetaMask"}),Object(Q.jsx)(w.a,{children:c}),Object(Q.jsx)(z.a,{onClick:function(){return s.apply(this,arguments)},variant:"contained",color:"error",children:"Disconnect"})]})}function H(e){return new b.a(e)}var K=function(e){e.Component;var t=e.pageProps;return Object(Q.jsx)(V.a,{getLibrary:H,children:Object(Q.jsx)(q,Object(I.a)({},t))})},Z=Object(D.a)(P.a)((function(e){var t=e.theme;return Object(I.a)(Object(I.a)({},t.typography.body2),{},{padding:t.spacing(1),textAlign:"center",color:t.palette.text.secondary})}));function _(e){e.accounts,e.account,e.setAccount;return Object(Q.jsx)(F.a,{container:!0,spacing:0,direction:"column",alignItems:"center",justifyContent:"center",children:Object(Q.jsx)(F.a,{item:!0,xs:6,children:Object(Q.jsx)(Z,{children:Object(Q.jsx)(K,{})})})})}var $=n(696),ee=n(698),te=n(697),ne=n(685),ae=function(e){Object(d.a)(n,e);var t=Object(y.a)(n);function n(e){var a;return Object(p.a)(this,n),(a=t.call(this,e)).state={id:0,token:null,balance:0,name:"",data:"",image:""},a}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=Object(u.a)(o.a.mark((function e(){var t,n,a,i,r,s,c,u;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props,n=t.getToken,a=t.getBalance,i=t.account,r=this.state.id,e.next=4,n(r);case 4:return s=e.sent,console.log(s),c="",e.next=9,a(i,r);case 9:u=e.sent,this.setState({token:s,balance:u,image:c});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props,n=t.contract,a=t.account,i=this.state,r=i.id,s=i.token,c=i.balance,o=i.image,u=i.name,p=i.data;return null===s?Object(Q.jsx)("div",{}):Object(Q.jsxs)($.a,{sx:{display:"flex"},children:[Object(Q.jsx)(te.a,{component:"img",sx:{width:"33%"},src:""===o?s.image:o,alt:"Live from space album cover"}),Object(Q.jsxs)(k.a,{sx:{display:"flex",flexDirection:"column"},children:[Object(Q.jsxs)(ee.a,{sx:{flex:"1 0 auto"},children:[Object(Q.jsx)(ne.a,{label:"Token ID",type:"number",value:r,onChange:function(t){var n=t.target.value;e.setState({id:n},e.componentDidMount)}}),Object(Q.jsx)(w.a,{component:"div",variant:"h5",children:s.name}),Object(Q.jsx)(w.a,{variant:"subtitle1",color:"text.secondary",component:"div",children:s.data}),Object(Q.jsxs)(w.a,{variant:"subtitle1",color:"text.secondary",component:"div",children:["You have ",c]}),Object(Q.jsx)(w.a,{variant:"subtitle1",component:"div",children:"When 'Submit' is pressed, you lose one unit of the original item and mint the new customised item"})]}),Object(Q.jsxs)(ee.a,{sx:{flex:"1 0 auto"},children:[Object(Q.jsx)(ne.a,{label:"Name",onChange:function(t){var n=t.target.value;e.setState({name:n})}}),Object(Q.jsx)("br",{}),Object(Q.jsx)("br",{}),Object(Q.jsx)(ne.a,{label:"Description",multiline:!0,rows:4,onChange:function(t){var n=t.target.value;e.setState({data:n})}}),Object(Q.jsx)("br",{}),Object(Q.jsx)("br",{}),Object(Q.jsx)(ne.a,{label:"Image URL",value:o,onChange:function(t){var n=t.target.value;e.setState({image:n})}}),Object(Q.jsx)("br",{}),Object(Q.jsx)("br",{}),Object(Q.jsx)(z.a,{variant:"contained",type:"submit",onClick:function(){var e=a;n.methods.mint(1,p,u,s.tokenType,o).send({from:e}),n.methods.safeTransferFrom(a,"0x0",r,1,"0x0").send({from:e})},children:"Submit"})]})]})]})}}]),n}(a.Component),ie=n(678),re=n(686),se=Object(D.a)(P.a)((function(e){var t=e.theme;return Object(I.a)(Object(I.a)({},t.typography.body2),{},{padding:t.spacing(1),textAlign:"center",color:t.palette.text.secondary})}));function ce(e){var t=e.backpack.map((function(e){return Object(Q.jsx)(F.a,{item:!0,children:Object(Q.jsx)(se,{children:Object(Q.jsx)(ie.a,{title:e.name,children:Object(Q.jsx)(re.a,{badgeContent:e.balance,color:"primary",children:Object(Q.jsx)("img",{src:e.image,height:"99",alt:e.name})})})})})}));return Object(Q.jsx)(k.a,{sx:{flexGrow:1},children:Object(Q.jsx)(F.a,{container:!0,spacing:2,children:t})})}var oe=n(36);function ue(e){var t=e.item;Object(oe.a)();return Object(Q.jsxs)($.a,{sx:{display:"flex"},children:[Object(Q.jsx)(te.a,{component:"img",sx:{width:"33%"},src:t.image,alt:"Live from space album cover"}),Object(Q.jsxs)(k.a,{sx:{display:"flex",flexDirection:"column"},children:[Object(Q.jsxs)(ee.a,{sx:{flex:"1 0 auto"},children:[Object(Q.jsx)(w.a,{component:"div",variant:"h5",children:t.name}),Object(Q.jsx)(w.a,{variant:"subtitle1",color:"text.secondary",component:"div",children:t.description}),Object(Q.jsxs)(w.a,{variant:"subtitle1",color:"text.secondary",component:"div",children:["Seller: ",t.owner]}),Object(Q.jsx)(w.a,{variant:"subtitle1",component:"div",children:"When 'Buy' is pressed, the item is exchanged with the 'Price': # of gold coins"})]}),Object(Q.jsxs)(ee.a,{sx:{flex:"1 0 auto"},children:[Object(Q.jsx)(ne.a,{label:"Price",type:"number"}),Object(Q.jsx)("br",{}),Object(Q.jsx)(z.a,{variant:"contained",type:"submit",children:"Buy"})]})]})]})}var pe={image:"https://media.istockphoto.com/photos/wooden-medieval-shield-viking-shield-painted-red-and-white-picture-id1180956047?s=612x612",name:"Customised Shield",description:"wooden, red and white",owner:"George",balance:1},le=[{image:"https://image.shutterstock.com/image-illustration/metal-shield-isolated-on-white-260nw-324051260.jpg",name:"Shield",description:"standard fungible shield",balance:2},pe,{image:"https://www.scottsdalemint.com/wp-content/uploads/2021/05/2024-Samoa-Year-of-the-Dragon-1-oz-Gold-Coin-02-100x100.jpg",name:"Gold Coin",description:"standard fungible coin, default currency",balance:505},{image:"https://soappotions.com/wp-content/uploads/2017/10/round.jpg",name:"Potion",description:"standard fungible potion",balance:1}],de=function(e){Object(d.a)(n,e);var t=Object(y.a)(n);function n(e){var a;return Object(p.a)(this,n),(a=t.call(this,e)).setPage=function(e){return a.setState({page:e})},a.setAccount=function(e){return a.setState({account:e})},a.state={admin:"",tokenTypes:[],accounts:[],page:"Login",account:""},a}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=Object(u.a)(o.a.mark((function e(){var t,n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.methods.admin().call();case 2:return t=e.sent,e.next=5,x.methods.getTokenTypes().call();case 5:return n=e.sent,e.next=8,j.eth.getAccounts();case 8:a=e.sent,console.log(this.state.account),this.setState({admin:t,tokenTypes:n,accounts:a});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.page,n=e.accounts,a=e.account,i={Login:Object(Q.jsx)(_,{accounts:n,account:a,setAccount:this.setAccount}),Customise:Object(Q.jsx)(ae,{getToken:f,getBalance:v,account:a,contract:x}),Listing:Object(Q.jsx)(ue,{item:pe}),Backpack:Object(Q.jsx)(ce,{backpack:le})};return Object(Q.jsxs)("div",{children:[Object(Q.jsx)(B,{pages:Object.keys(i),page:t,setPage:this.setPage}),i[t]]})}}]),n}(a.Component);s.a.render(Object(Q.jsx)(i.a.StrictMode,{children:Object(Q.jsx)(de,{})}),document.getElementById("root"))}},[[618,1,2]]]);
//# sourceMappingURL=main.1a6db59a.chunk.js.map